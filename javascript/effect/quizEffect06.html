<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>퀴즈 이펙트</title>

    <link rel="stylesheet" href="../assets/css/quiz.css">

    <link href="https://webfontworld.github.io/DungGeunMo/DungGeunMo.css" rel="stylesheet">
    <link href="https://webfontworld.github.io/Cafe24Dangdanghae/Cafe24Dangdanghae.css" rel="stylesheet">
</head>

<body>
    <!-- 
        01. 퀴즈 이펙트 - 정답 확인하기
        02. 퀴즈 이펙트 - 주관식 확인하기
        03. 퀴즈 이펙트 - 주관식(여러문제) 확인하기
        04. 퀴즈 이펙트 - 객관식 확인하기
        05. 퀴즈 이펙트 - 객관식(여러문제) 확인하기 : 점수
        06. 퀴즈 이펙트 - 객관식(여러문제) : 슬라이드형식
     -->
    <header id="header">
        <h1><a href="../javascript01.html">Quiz</a> <em>객관식(여러문제) : 슬라이드형식</em></h1>
        <nav>
            <ul>
                <li><a href="quizEffect01.html">1</a></li>
                <li><a href="quizEffect02.html">2</a></li>
                <li><a href="quizEffect03.html">3</a></li>
                <li><a href="quizEffect04.html">4</a></li>
                <li><a href="quizEffect05.html">5</a></li>
                <li class="active"><a href="quizEffect06.html">6</a></li>
            </ul>
        </nav>
    </header>
    <!-- //header -->

    <main id="main">
        <div class="quiz__wrap">
            <div class="quiz">
                <span class="quiz__type">${question.answerType}</span>
                <h2 class="quiz__question">
                    <!-- <span class="number">${question.answerNum+". "}</span>
                    <div class="ask">${question.answerAsk}</div> -->
                </h2>
                <div class="quiz__view">
                    <div class="true">정답입니다!</div>
                    <div class="false">틀렸습니다!</div>
                    <div class="dog">
                        <div class="head">
                            <div class="ears"></div>
                            <div class="face"></div>
                            <div class="eyes">
                                <div class="teardrop"></div>
                            </div>
                            <div class="nose"></div>
                            <div class="mouth">
                                <div class="tongue"></div>
                            </div>
                            <div class="chin"></div>
                        </div>
                        <div class="body">
                            <div class="tail"></div>
                            <div class="legs"></div>
                        </div>
                    </div>
                </div>
                <div class="quiz__answer">
                    <div class="quiz__selects">
                        
                    </div>
                    <div class="result"></div>
                    <button class="confirm">다음 문제 보기 🫠</button>
                </div>
            </div>

        </div>
    </main>
    <!-- //main -->

    <footer id="footer">
        <a href="mailto:eodnjs9605@gmail.com">eodnjs9605@gmail.com</a>
    </footer>
    <!-- //footer -->

    <script>
        //문제정보
        const quizInfo = 
        [
            {
                answerType : "웹디자인기능사 2014년 02회",
                answerNum : "1.",
                answerAsk : "서로 반대되는 색상을 배색하였을 때 나타나는 느낌으로 옳은 것은?",
                answerChoice : [
                    "강한 느낌",
                    "정적인 느낌",
                    "간결한 느낌",
                    "차분한 느낌",
                ],
                answerResult : "강한 느낌",
                answerEx : "강한 느낌에 대한 설명이다."
            },
            {
                answerType : "웹디자인기능사 2014년 02회",
                answerNum : "2.",
                answerAsk : "커뮤니케이션 디자인에 대한 설명으로 틀린 것은?",
                answerChoice : [
                    "라틴어 Communicare를 어원으로 한다.",
                    "두 개 이상의 개체가 기호를 매개로 무언가를 공유하는 것이다.",
                    "재료, 기능성, 입체, 질감 등의 요소를 이용하여 상품을 개발하는 것이다.",
                    "사람과 사람사이에 기호에 의해서 의미를 전달하는 과정이다",
                ],
                answerResult : "재료, 기능성, 입체, 질감 등의 요소를 이용하여 상품을 개발하는 것은 커뮤니케이션 디자인이 아니다.",
                answerEx : "재료, 기능성, 입체, 질감 등의 요소를 이용하여 상품을 개발하는 것은 커뮤니케이션 디자인이 아니다."
            },
            {
                answerType : "웹디자인기능사 2014년 02회",
                answerNum : "3.",
                answerAsk : "흰색의 바탕 위에서 빨간색을 20초 정도 보고난 후, 빨간색을 치우면 앞에서 본 빨간색과 동일한 크기의 청록색이 나타나 보이는 현상은?",
                answerChoice : [
                    "보색잔상",
                    "망막의 피로",
                    "계시대비",
                    "동시대비",
                ],
                answerResult : "보색잔상",
                answerEx : "보색잔상은 특정 빛의 지속적 노출에 의해 반사적으로 보색 관계의 빛이 일시적 보이는 것"
            },
            {
                answerType : "웹디자인기능사 2014년 02회",
                answerNum : "4.",
                answerAsk : "일반적으로 장식에 사용되는 단순화된 무늬나 규칙적으로 반복되는 단위도형을 말하며, 반복되는 모양의 기본이 되는 구성요소를 가리키고 있지만, 일반적으로는 그림이나 무늬와 같은 비주얼 디자인의 기초가 되는 조형만이 아니라, 일체의 반복되는 것에 대해 그 원형이 되는 조립단위를 가리키는 것은?",
                answerChoice : [
                    "패턴",
                    "텍스쳐",
                    "질감",
                    "콜라쥬",
                ],
                answerResult : "패턴",
                answerEx : "패턴은 규칙적인 특징을 반복하거나 교차시키는 데서 비롯되는 움직임의 느낌에서 나타남.<br> 택스처(질감): 물체의 표면적인 느낌으로 광택,먀끄러움, 거침 등을 의미.<br> 콜라주: '풀칠',바'바르기' 따위의 의미였으나, 전용되어 화면에 인쇄물, 천, 쇠붙이, 나무조각, 모래, 나뭇잎 등 여러가지를 붙여서 구성하는 회화 기법"
            },
            {
                answerType : "웹디자인기능사 2014년 02회",
                answerNum : "5.",
                answerAsk : "포스터 디자인의 조건으로 가장 적합한 것은?",
                answerChoice : [
                    "일러스트레이션은 가급적 화려하게 표현한다.",
                    "눈에 잘 띄고, 독창적이어야 한다.",
                    "색상수를 많이 사용한다.",
                    "헤드라인은 반드시 고딕체를 사용한다.",
                ],
                answerResult : "눈에 잘 띄고, 독창적이어야 한다.",
                answerEx : "포스터 디자인은 눈에 잘 띄고, 독창적이어야 한다."
            },
        ];

        const quizQuestion = document.querySelector(".quiz__question");                 //문제 번호, 질문
        const quizSelects = document.querySelector(".quiz__selects")                    //객관식 보기
        const quizType = document.querySelector(".quiz__type")                  //객관식보기
        const quizResult = document.querySelector(".quiz__answer .result")      //해설
        const quizConfirm = document.querySelector(".quiz__answer .confirm")     //정답확인버튼
        const quizView = document.querySelector(".quiz__view")                  //강아지

        let quizCount = 0;
        let quizScore = "";
        let qs = Math.floor(100/quizInfo.length*quizScore)

        //문제 출력
        const updateQuiz = (index) => {
            const questionTag = `
                <span class="number">${quizInfo[index].answerNum}</span>
                <div class="ask">${quizInfo[index].answerAsk}</div>`;
            const choiceTag = `
            <label for="select1">
                <input type="radio" id="select1" class="select" name="select" value="1">
                <span class="choice">${quizInfo[index].answerChoice[0]}</span>
            </label>
            <label for="select2">
                <input type="radio" id="select2" class="select" name="select" value="2">
                <span class="choice">${quizInfo[index].answerChoice[1]}</span>
            </label>
            <label for="select3">
                <input type="radio" id="select3" class="select" name="select" value="3">
                <span class="choice">${quizInfo[index].answerChoice[2]}</span>
            </label>
            <label for="select4">
                <input type="radio" id="select4" class="select" name="select" value="4">
                <span class="choice">${quizInfo[index].answerChoice[3]}</span>
            </label>`;

            //문제출력

            quizType.innerHTML = quizInfo[index].answerType;    //퀴즈 유형
            quizQuestion.innerHTML = questionTag;           //번호 질문
            quizSelects.innerHTML = choiceTag;              //객관식
            quizResult.innerHTML = quizInfo[index].answerEx;    //해설

            const quizChoice = quizSelects.querySelectorAll(".choice")

            for(let i=0; i<quizChoice.length; i++){
                quizChoice[i].setAttribute("onclick", "choiceSelected(this)")
            }

            // 문제, 해설 숨기기
            quizResult.style.display="none";
            quizConfirm.style.display="none";

            // document.querySelector(".quiz__type").innerHTML=quizInfo[0].answerType
        }
        updateQuiz(quizCount);

        const choiceSelected = (answer) => {
            let userAnswer = answer.textContent;
            let currentAnswer = quizInfo[quizCount].answerResult;
            
            if(userAnswer == currentAnswer){
                console.log("정답");
                quizView.classList.add("like")
                quizScore++
            } else {
                console.log("오답");
                quizView.classList.add("dislike")
                quizResult.style.display="block";
            }
            quizConfirm.style.display = "block"
        }
        

        // 정답 확인 버튼
        const answerQuiz = () => {
            if(quizCount === quizInfo.length-1){
                if(Math.floor(100/quizInfo.length*quizScore)>=60){
                    quizConfirm.textContent = `총 ${quizInfo.length} 문제 중에 ${quizScore} 문제를 맞추었으며 총점 ${Math.floor(100/quizInfo.length*quizScore)} 점 합격 입니다.`
                } else {
                    quizConfirm.textContent = `총 ${quizInfo.length} 문제 중에 ${quizScore} 문제를 맞추었으며 총점 ${Math.floor(100/quizInfo.length*quizScore)} 점 불합격 입니다.`
                }
            }
            quizCount++
            updateQuiz(quizCount);
            quizView.classList.remove("like", "dislike");

            // quizConfirm.textContent = "총"+quizInfo.length+"문제 중에"+quizScore+"문제를 맞추었습니다."
            //마지막 문제
        }

        quizConfirm.addEventListener("click", answerQuiz)
    </script>
</body>

</html>